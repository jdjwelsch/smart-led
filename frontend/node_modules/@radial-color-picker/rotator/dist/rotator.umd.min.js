/**
 * radial-color-picker/rotator v2.1.0
 *
 * https://github.com/radial-color-picker/rotator
 *
 * Copyright (c) 2018-present, Rosen Kanev
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Rotator=e()}(this,function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var e=180/Math.PI,n=function(t){var e=t%360;return e<0?360+e:e},o=function(t,n){var o=t.x,i=t.y,s=n.left+n.width/2,a=n.top+n.height/2;return Math.atan2(i-a,o-s)*e},i=function(){};return function(){function e(t,e){this.active=!1,this._angle=0,this.element=t,this.element.style.willChange="transform",this.initOptions(e),this.updateCSS(),this.bindHandlers(),this.addListeners()}var s,a,h,r=e.prototype;return r.initOptions=function(t){t=t||{},this.onRotate=t.onRotate||i,this.onDragStart=t.onDragStart||i,this.onDragStop=t.onDragStop||i,this._angle=t.angle||0},r.bindHandlers=function(){this.onRotationStart=this.onRotationStart.bind(this),this.onRotated=this.onRotated.bind(this),this.onRotationStop=this.onRotationStop.bind(this)},r.addListeners=function(){this.element.addEventListener("touchstart",this.onRotationStart,{passive:!0}),document.addEventListener("touchmove",this.onRotated,{passive:!1}),document.addEventListener("touchend",this.onRotationStop,{passive:!0}),document.addEventListener("touchcancel",this.onRotationStop,{passive:!0}),this.element.addEventListener("mousedown",this.onRotationStart,{passive:!0}),document.addEventListener("mousemove",this.onRotated,{passive:!1}),document.addEventListener("mouseup",this.onRotationStop,{passive:!0}),document.addEventListener("mouseleave",this.onRotationStop,{passive:!1})},r.removeListeners=function(){this.element.removeEventListener("touchstart",this.onRotationStart),document.removeEventListener("touchmove",this.onRotated),document.removeEventListener("touchend",this.onRotationStop),document.removeEventListener("touchcancel",this.onRotationStop),this.element.removeEventListener("mousedown",this.onRotationStart),document.removeEventListener("mousemove",this.onRotated),document.removeEventListener("mouseup",this.onRotationStop),document.removeEventListener("mouseleave",this.onRotationStop)},r.destroy=function(){this.onRotationStop(),this.removeListeners()},r.onRotationStart=function(t){"touchstart"!==t.type&&0!==t.button||(this.initDrag(),this.onDragStart(t))},r.onRotationStop=function(){this.active&&(this.active=!1,this.onDragStop()),this.active=!1},r.onRotated=function(t){if(this.active){t.preventDefault();var e=t.targetTouches?t.targetTouches[0]:t;this.updateAngleToMouse({x:e.clientX,y:e.clientY}),this.updateCSS(),this.onRotate(this._angle)}},r.setAngleFromEvent=function(t){var e=o({x:t.clientX,y:t.clientY},this.element.getBoundingClientRect());this._angle=n(e+90),this.updateCSS(),this.onRotate(this._angle)},r.updateAngleToMouse=function(t){var e=o(t,this.element.getBoundingClientRect());this.lastMouseAngle||(this.lastElementAngle=this._angle,this.lastMouseAngle=e),this._angle=n(this.lastElementAngle+e-this.lastMouseAngle)},r.initDrag=function(){this.active=!0,this.lastMouseAngle=void 0,this.lastElementAngle=void 0},r.updateCSS=function(){this.element.style.transform="rotate("+this._angle+"deg)"},s=e,(a=[{key:"angle",get:function(){return this._angle},set:function(t){this._angle!==t&&(this._angle=n(t),this.updateCSS())}}])&&t(s.prototype,a),h&&t(s,h),e}()});
