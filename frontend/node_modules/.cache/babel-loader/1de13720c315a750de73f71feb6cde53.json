{"remainingRequest":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/babel-loader/lib/index.js!/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jona/Dokumente/coding/smart-led/raspi/frontend/src/components/VerticalSingleLedControl.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/src/components/VerticalSingleLedControl.vue","mtime":1589126566788},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBTd2l0Y2hlcyBmcm9tICd2dWUtc3dpdGNoZXMnOwppbXBvcnQgQ29sb3JQaWNrZXIgZnJvbSAnQHJhZGlhbC1jb2xvci1waWNrZXIvdnVlLWNvbG9yLXBpY2tlcic7CmltcG9ydCBjb252ZXJ0IGZyb20gJ2NvbG9yLWNvbnZlcnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NpbmdsZUxlZENvbnRyb2wnLAogIGNvbXBvbmVudHM6IHsKICAgICdzd2l0Y2hlcyc6IFN3aXRjaGVzLAogICAgQ29sb3JQaWNrZXI6IENvbG9yUGlja2VyCiAgfSwKICBwcm9wczogWyduYW1lJywgJ1NlcnZlcklwJywgJ3JnYicsICdwb3dlciddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBodWU6IDEwMCwKICAgICAgc2F0dXJhdGlvbjogMTAwLAogICAgICBsdW1pbm9zaXR5OiA1MCwKICAgICAgZGV2aWNlX3BhdGg6ICdodHRwOi8vJyArIHRoaXMuU2VydmVySXAgKyAnOjQ5OTkvZGV2aWNlcy8nICsgdGhpcy5uYW1lLAogICAgICBsYXN0X3JlcXVlc3Rfc2VuZDogRGF0ZS5ub3coKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN3aXRjaF9sZWQ6IGZ1bmN0aW9uIHN3aXRjaF9sZWQoKSB7CiAgICAgIGF4aW9zLnB1dCh0aGlzLmRldmljZV9wYXRoLCB0aGlzLmNhbGNfc3RhdGVfZGljdCgpKTsKICAgICAgY29uc29sZS5sb2coJ3NlbmRpbmcnLCB0aGlzLmNhbGNfc3RhdGVfZGljdCgpKTsKICAgIH0sCiAgICBzZXRfZGV2aWNlX2NvbG9yOiBmdW5jdGlvbiBzZXRfZGV2aWNlX2NvbG9yKCkgewogICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsgLy8gb25seSBzZW5kIGlmIHRoZXJlIGhhcyBub3QgYmVlbiBhbiB1cGRhdGUgaW4gbGFzdCAxMDAgbXMKCiAgICAgIGlmIChub3cgLSB0aGlzLmxhc3RfcmVxdWVzdF9zZW5kID4gMTAwKSB7CiAgICAgICAgYXhpb3MucHV0KHRoaXMuZGV2aWNlX3BhdGgsIHRoaXMuY2FsY19zdGF0ZV9kaWN0KCkpOwogICAgICAgIGNvbnNvbGUubG9nKCdzZW5kaW5nJywgdGhpcy5jYWxjX3N0YXRlX2RpY3QoKSk7CiAgICAgICAgdGhpcy5sYXN0X3JlcXVlc3Rfc2VuZCA9IG5vdzsKICAgICAgfQogICAgfSwKICAgIC8vIGNhbGN1bGF0ZSByZ2Igc3RhdGUgZGljdCBmb3Igc2VuZGluZyB0byBiYWNrZW5kCiAgICBjYWxjX3N0YXRlX2RpY3Q6IGZ1bmN0aW9uIGNhbGNfc3RhdGVfZGljdCgpIHsKICAgICAgdmFyIHJnYl92YWxzID0gY29udmVydC5oc2wucmdiKHRoaXMuaHVlLCB0aGlzLnNhdHVyYXRpb24sIHRoaXMubHVtaW5vc2l0eSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ3JnYic6IHJnYl92YWxzLAogICAgICAgICdwb3dlcic6IHRoaXMucG93ZXIKICAgICAgfTsKICAgIH0sCiAgICBzZXRfaHNsX3ZhbHVlc19mcm9tX3JnYjogZnVuY3Rpb24gc2V0X2hzbF92YWx1ZXNfZnJvbV9yZ2IoKSB7CiAgICAgIHRoaXMuaHVlID0gY29udmVydC5yZ2IuaHNsKHRoaXMucmdiKVswXTsKICAgICAgdGhpcy5zYXR1cmF0aW9uID0gY29udmVydC5yZ2IuaHNsKHRoaXMucmdiKVsxXTsKICAgICAgdGhpcy5sdW1pbm9zaXR5ID0gY29udmVydC5yZ2IuaHNsKHRoaXMucmdiKVsyXTsKICAgIH0sCiAgICBvbkNvbG9ySW5wdXQ6IGZ1bmN0aW9uIG9uQ29sb3JJbnB1dChodWUpIHsKICAgICAgdGhpcy5odWUgPSBodWU7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcG93ZXI6IGZ1bmN0aW9uIHBvd2VyKCkgewogICAgICB0aGlzLnN3aXRjaF9sZWQoKTsKICAgIH0sCiAgICAvLyB1cGRhdGUgaW50ZXJuYWwgaHNsIHZhbHVlcyB3aGVuIHJnYiBpcyBjaGFuZ2VkCiAgICAvLyAoaS4gZS4gYnkgYnJvYWRjYXN0IGZyb20gYmFja2VuZCkKICAgIHJnYjogZnVuY3Rpb24gcmdiKCkgewogICAgICB0aGlzLnNldF9oc2xfdmFsdWVzX2Zyb21fcmdiKCk7CiAgICB9LAogICAgLy8gc2VuZCBzZXRfY29sb3IgcmVxdWVzdCB3aGVuIGhzbCB2YWx1ZXMgYXJlIGNoYW5nZWQKICAgIGx1bWlub3NpdHk6IGZ1bmN0aW9uIGx1bWlub3NpdHkoKSB7CiAgICAgIHRoaXMuc2V0X2RldmljZV9jb2xvcigpOwogICAgfSwKICAgIGh1ZTogZnVuY3Rpb24gaHVlKCkgewogICAgICB0aGlzLnNldF9kZXZpY2VfY29sb3IoKTsKICAgIH0sCiAgICBzYXR1cmF0aW9uOiBmdW5jdGlvbiBzYXR1cmF0aW9uKCkgewogICAgICB0aGlzLnNldF9kZXZpY2VfY29sb3IoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldF9oc2xfdmFsdWVzX2Zyb21fcmdiKCk7CiAgfQp9Ow=="},{"version":3,"sources":["VerticalSingleLedControl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,QAAA,MAAA,cAAA;AACA,OAAA,WAAA,MAAA,uCAAA;AACA,OAAA,OAAA,MAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,UAAA,EAAA;AACA,gBAAA,QADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAFA;AAMA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,KAAA,EAAA,OAAA,CANA;AAQA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,GADA;AAEA,MAAA,UAAA,EAAA,GAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA,YACA,KAAA,QADA,GAEA,gBAFA,GAGA,KAAA,IAPA;AAQA,MAAA,iBAAA,EAAA,IAAA,CAAA,GAAA;AARA,KAAA;AAUA,GAnBA;AAoBA,EAAA,OAAA,EACA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,KAAA,WAAA,EAAA,KAAA,eAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EAAA,KAAA,eAAA,EAAA;AACA,KAJA;AAQA,IAAA,gBARA,8BAQA;AACA,UAAA,GAAA,GAAA,IAAA,CAAA,GAAA,EAAA,CADA,CAEA;;AACA,UAAA,GAAA,GAAA,KAAA,iBAAA,GAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,KAAA,WAAA,EAAA,KAAA,eAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EAAA,KAAA,eAAA,EAAA;AACA,aAAA,iBAAA,GAAA,GAAA;AACA;AACA,KAhBA;AAiBA;AACA,IAAA,eAlBA,6BAkBA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CACA,KAAA,GADA,EAEA,KAAA,UAFA,EAGA,KAAA,UAHA,CAAA;AAIA,aAAA;AAAA,eAAA,QAAA;AAAA,iBAAA,KAAA;AAAA,OAAA;AACA,KAxBA;AA0BA,IAAA,uBA1BA,qCA0BA;AACA,WAAA,GAAA,GAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,KAAA,GAAA,EAAA,CAAA,CAAA;AACA,WAAA,UAAA,GAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,KAAA,GAAA,EAAA,CAAA,CAAA;AACA,WAAA,UAAA,GAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,KAAA,GAAA,EAAA,CAAA,CAAA;AACA,KA9BA;AAgCA,IAAA,YAhCA,wBAgCA,GAhCA,EAgCA;AACA,WAAA,GAAA,GAAA,GAAA;AACA;AAlCA,GArBA;AA0DA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,UAAA;AACA,KAHA;AAKA;AACA;AACA,IAAA,GAPA,iBAOA;AACA,WAAA,uBAAA;AACA,KATA;AAWA;AACA,IAAA,UAZA,wBAYA;AACA,WAAA,gBAAA;AACA,KAdA;AAeA,IAAA,GAfA,iBAeA;AACA,WAAA,gBAAA;AACA,KAjBA;AAkBA,IAAA,UAlBA,wBAkBA;AACA,WAAA,gBAAA;AACA;AApBA,GA1DA;AAiFA,EAAA,OAjFA,qBAiFA;AACA,SAAA,uBAAA;AACA;AAnFA,CAAA","sourcesContent":["<template>\n    <div id=\"SingleLedControl\">\n        <H2>{{name}}</H2>\n        <switches v-model=\"power\" type-bold=\"true\" theme=\"bulma\"\n                  label=\"off / on\" size=\"lg\"></switches>\n\n        <color-picker :hue=\"hue\"\n                      :saturation=\"saturation\"\n                      :luminosity=\"luminosity\"\n                      @input=\"onColorInput\">\n        </color-picker>\n        <br>\n\n        <label for=\"saturation\">Saturation: {{saturation}}</label><br>\n        <input id='saturation' type=\"range\" min=\"0\" max=\"100\"\n               v-model=\"saturation\"><br>\n\n        <label for=\"luminosity\">Luminosity: {{luminosity}}</label><br>\n        <input id='luminosity' type=\"range\" min=\"0\" max=\"100\"\n               v-model=\"luminosity\">\n        <hr>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    import Switches from 'vue-switches';\n    import ColorPicker from '@radial-color-picker/vue-color-picker';\n    import convert from 'color-convert';\n\n    export default {\n        name: 'SingleLedControl',\n        components: {\n            'switches': Switches,\n            ColorPicker\n        },\n        props: ['name', 'ServerIp', 'rgb', 'power'],\n\n        data: function () {\n            return {\n                hue: 100,\n                saturation: 100,\n                luminosity: 50,\n                device_path: 'http://' +\n                    this.ServerIp +\n                    ':4999/devices/' +\n                    this.name,\n                last_request_send: Date.now()\n            }\n        },\n        methods:\n            {\n                switch_led: function () {\n                    axios.put(this.device_path, this.calc_state_dict());\n                    console.log('sending', this.calc_state_dict());\n                }\n                ,\n\n\n                set_device_color() {\n                    let now = Date.now();\n                    // only send if there has not been an update in last 100 ms\n                    if (now - this.last_request_send > 100) {\n                        axios.put(this.device_path, this.calc_state_dict());\n                        console.log('sending', this.calc_state_dict());\n                        this.last_request_send = now;\n                    }\n                },\n                // calculate rgb state dict for sending to backend\n                calc_state_dict() {\n                    let rgb_vals = convert.hsl.rgb(\n                        this.hue,\n                        this.saturation,\n                        this.luminosity)\n                    return {'rgb': rgb_vals, 'power': this.power}\n                },\n\n                set_hsl_values_from_rgb() {\n                    this.hue = convert.rgb.hsl(this.rgb)[0];\n                    this.saturation = convert.rgb.hsl(this.rgb)[1];\n                    this.luminosity = convert.rgb.hsl(this.rgb)[2];\n                },\n\n                onColorInput(hue) {\n                    this.hue = hue;\n                },\n            },\n\n        watch: {\n            power() {\n                this.switch_led()\n            },\n\n            // update internal hsl values when rgb is changed\n            // (i. e. by broadcast from backend)\n            rgb() {\n                this.set_hsl_values_from_rgb()\n            },\n\n            // send set_color request when hsl values are changed\n            luminosity() {\n                this.set_device_color();\n            },\n            hue() {\n                this.set_device_color();\n            },\n            saturation() {\n                this.set_device_color();\n            }\n        },\n\n        created() {\n            this.set_hsl_values_from_rgb()\n        }\n    }\n</script>\n\n<style scoped>\n    @import '~@radial-color-picker/vue-color-picker/dist/vue-color-picker.min.css';\n\n    /*\n    css styling for the range slider was inspired by\n    http://danielstern.ca/range.css/#/\n     */\n\n    input[type=range] {\n        -webkit-appearance: none;\n        margin: 18px 0;\n        width: 90%;\n    }\n\n    input[type=range]:focus {\n        outline: none;\n    }\n\n    input[type=range]::-webkit-slider-runnable-track {\n        width: 96%;\n        height: 8.4px;\n        cursor: pointer;\n        animate: 0.2s;\n        background: #3071a9;\n        border-radius: 1.3px;\n        border: 0.2px solid #010101;\n    }\n\n    input[type=range]::-webkit-slider-thumb {\n        border: 1px solid #000000;\n        height: 36px;\n        width: 16px;\n        border-radius: 3px;\n        background: #ffffff;\n        cursor: pointer;\n        -webkit-appearance: none;\n        margin-top: -14px;\n    }\n\n    input[type=range]:focus::-webkit-slider-runnable-track {\n        background: #367ebd;\n    }\n\n    input[type=range]::-moz-range-track {\n        width: 96%;\n        height: 8.4px;\n        cursor: pointer;\n        animate: 0.2s;\n        background: #3071a9;\n        border-radius: 1.3px;\n        border: 0.2px solid #010101;\n    }\n\n    input[type=range]::-moz-range-thumb {\n        border: 1px solid #000000;\n        height: 36px;\n        width: 16px;\n        border-radius: 3px;\n        background: #ffffff;\n        cursor: pointer;\n    }\n\n    input[type=range]::-ms-track {\n        width: 100%;\n        height: 8.4px;\n        cursor: pointer;\n        animate: 0.2s;\n        background: transparent;\n        border-color: transparent;\n        border-width: 16px 0;\n        color: transparent;\n    }\n\n    input[type=range]::-ms-fill-lower {\n        background: #2a6495;\n        border: 0.2px solid #010101;\n        border-radius: 2.6px;\n    }\n\n    input[type=range]::-ms-fill-upper {\n        background: #3071a9;\n        border: 0.2px solid #010101;\n        border-radius: 2.6px;\n    }\n\n    input[type=range]::-ms-thumb {\n        border: 1px solid #000000;\n        height: 36px;\n        width: 16px;\n        border-radius: 3px;\n        background: #ffffff;\n        cursor: pointer;\n    }\n\n    input[type=range]:focus::-ms-fill-lower {\n        background: #3071a9;\n    }\n\n    input[type=range]:focus::-ms-fill-upper {\n        background: #367ebd;\n    }\n\n    div {\n        margin: auto auto 1cm;\n    }\n</style>"],"sourceRoot":"src/components"}]}