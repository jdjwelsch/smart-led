{"remainingRequest":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jona/Dokumente/coding/smart-led/raspi/frontend/src/components/SingleLedControl.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/src/components/SingleLedControl.vue","mtime":1586287014688},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBSYW5nZVNsaWRlciBmcm9tICd2dWUtcmFuZ2Utc2xpZGVyJzsKaW1wb3J0ICd2dWUtcmFuZ2Utc2xpZGVyL2Rpc3QvdnVlLXJhbmdlLXNsaWRlci5jc3MnOwppbXBvcnQge1NsaWRlcn0gZnJvbSAndnVlLWNvbG9yJzsKaW1wb3J0IENvbG9yUGlja2VyIGZyb20gJ0ByYWRpYWwtY29sb3ItcGlja2VyL3Z1ZS1jb2xvci1waWNrZXInOwoKCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnU2luZ2xlTGVkQ29udHJvbCcsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgUmFuZ2VTbGlkZXIsCiAgICAgICAgJ3NsaWRlci1waWNrZXInOiBTbGlkZXIsCgogICAgfSwKICAgIHByb3BzOiBbJ25hbWUnXSwKCiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcG93ZXI6IGZhbHNlLAogICAgICAgICAgICBicmlnaHRuZXNzU2xpZGVyVmFsOiA1MCwKICAgICAgICAgICAgaHNsQ29sb3I6IHtyOiAxMjcsIGc6IDAsIGI6IDB9LAoKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLnBvd2VyID0gIXRoaXMucG93ZXI7CiAgICAgICAgICAgIHRoaXMuc3dpdGNoX2xlZCh0aGlzLnBvd2VyKTsKICAgICAgICB9LAoKICAgICAgICBzd2l0Y2hfbGVkOiBmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAgICAgICAgY29uc3QgcGF0aCA9ICdodHRwOi8vMTkyLjE2OC4wLjc4OjUwMDAvZGV2aWNlcy8nICsgdGhpcy5uYW1lOwogICAgICAgICAgICBjb25zdCByZ2Jfb2ZmID0geydyJzogMCwgJ2cnOiAwLCAnYic6IDB9OwoKICAgICAgICAgICAgaWYgKHN0YXRlKSB7CiAgICAgICAgICAgICAgICBheGlvcy5wdXQocGF0aCwgewogICAgICAgICAgICAgICAgICAgICdyJzogdGhpcy5oc2xDb2xvci5yZ2JhLnIsCiAgICAgICAgICAgICAgICAgICAgJ2cnOiB0aGlzLmhzbENvbG9yLnJnYmEuZywKICAgICAgICAgICAgICAgICAgICAnYic6IHRoaXMuaHNsQ29sb3IucmdiYS5iCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHsKICAgICAgICAgICAgICAgICAgICAncic6IHRoaXMuaHNsQ29sb3IucmdiYS5yLAogICAgICAgICAgICAgICAgICAgICdnJzogdGhpcy5oc2xDb2xvci5yZ2JhLmcsCiAgICAgICAgICAgICAgICAgICAgJ2InOiB0aGlzLmhzbENvbG9yLnJnYmEuYn0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXN0YXRlKSB7CiAgICAgICAgICAgICAgICBheGlvcy5wdXQocGF0aCwgcmdiX29mZik7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzZXRfbGVkX2JyaWdodG5lc3M6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgdGhpcy5oc2xDb2xvci5oc2wubCA9IHZhbCAvIDEwMDsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5oc2xDb2xvcikKICAgICAgICAgICAgY29uc3QgcGF0aCA9ICdodHRwOi8vMTkyLjE2OC4wLjc4OjUwMDAvZGV2aWNlcy8nICsgdGhpcy5uYW1lCiAgICAgICAgICAgIGNvbnN0IHJnYiA9IHsKICAgICAgICAgICAgICAgICdyJzogdGhpcy5oc2xDb2xvci5yZ2JhLnIsCiAgICAgICAgICAgICAgICAnZyc6IHRoaXMuaHNsQ29sb3IucmdiYS5nLAogICAgICAgICAgICAgICAgJ2InOiB0aGlzLmhzbENvbG9yLnJnYmEuYn07CiAgICAgICAgICAgIGF4aW9zLnB1dChwYXRoLCByZ2IpOwoKICAgICAgICB9LAoKICAgICAgICBzZXRfY29sb3IoKSB7CiAgICAgICAgICAgIGNvbnN0IHBhdGggPSAnaHR0cDovLzE5Mi4xNjguMC43ODo1MDAwL2RldmljZXMvJyArIHRoaXMubmFtZQogICAgICAgICAgICBjb25zdCByZ2IgPSB7CiAgICAgICAgICAgICAgICAncic6IHRoaXMuaHNsQ29sb3IucmdiYS5yLAogICAgICAgICAgICAgICAgJ2cnOiB0aGlzLmhzbENvbG9yLnJnYmEuZywKICAgICAgICAgICAgICAgICdiJzogdGhpcy5oc2xDb2xvci5yZ2JhLmJ9OwogICAgICAgICAgICBheGlvcy5wdXQocGF0aCwgcmdiKTsKCiAgICAgICAgfSwKICAgIH0sCgoKICAgIHdhdGNoOiB7CiAgICAgICAgYnJpZ2h0bmVzc1NsaWRlclZhbCgpIHsKICAgICAgICAgICAgdGhpcy5zZXRfbGVkX2JyaWdodG5lc3MoKTsKICAgICAgICB9LAoKCiAgICAgICAgaHNsQ29sb3IoaHNsQ29sb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coaHNsQ29sb3IucmdiYS5yKTsKICAgICAgICAgICAgY29uc29sZS5sb2coaHNsQ29sb3IucmdiYS5nKTsKICAgICAgICAgICAgY29uc29sZS5sb2coaHNsQ29sb3IucmdiYS5iKTsKICAgICAgICAgICAgdGhpcy5zZXRfY29sb3IoKTsKCiAgICAgICAgICAgIGlmIChoc2xDb2xvci5oc2wubCA+IDApIHsKICAgICAgICAgICAgICAgIHRoaXMucG93ZXIgPSB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgIH0sCgogICAgfSwKCiAgICBjcmVhdGVkKCkgewogICAgICAgIGNvbnNvbGUubG9nKFNsaWRlcikKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmhzbENvbG9yKQogICAgfQoKfQo="},{"version":3,"sources":["SingleLedControl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA","file":"SingleLedControl.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"SingleLedControl\">\n        <button @click='toggle()'>On/Off</button>\n        <span v-show='power'>LED on</span>\n        <span v-show='!power'>LED off</span>\n\n        <range-slider\n                class=\"slider\"\n                min=\"0\"\n                max=\"100\"\n                step=\"1\"\n                v-model=\"brightnessSliderVal\">\n        </range-slider>\n\n        <div id=\"hsv\">\n            <h2>Here should be the HSV slider</h2>\n            <slider-picker v-model=\"hslColor\"></slider-picker>\n        </div>\n\n        <color-picker v-bind=\"color\" @input=\"onColorPickerInput\"></color-picker>\n\n\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    import RangeSlider from 'vue-range-slider';\n    import 'vue-range-slider/dist/vue-range-slider.css';\n    import {Slider} from 'vue-color';\n    import ColorPicker from '@radial-color-picker/vue-color-picker';\n\n\n\n    export default {\n        name: 'SingleLedControl',\n        components: {\n            RangeSlider,\n            'slider-picker': Slider,\n\n        },\n        props: ['name'],\n\n        data: function () {\n            return {\n                power: false,\n                brightnessSliderVal: 50,\n                hslColor: {r: 127, g: 0, b: 0},\n\n            }\n        },\n        methods: {\n            toggle: function () {\n                this.power = !this.power;\n                this.switch_led(this.power);\n            },\n\n            switch_led: function (state) {\n                const path = 'http://192.168.0.78:5000/devices/' + this.name;\n                const rgb_off = {'r': 0, 'g': 0, 'b': 0};\n\n                if (state) {\n                    axios.put(path, {\n                        'r': this.hslColor.rgba.r,\n                        'g': this.hslColor.rgba.g,\n                        'b': this.hslColor.rgba.b\n                    });\n                    console.log({\n                        'r': this.hslColor.rgba.r,\n                        'g': this.hslColor.rgba.g,\n                        'b': this.hslColor.rgba.b});\n                }\n\n                if (!state) {\n                    axios.put(path, rgb_off);\n                }\n            },\n\n            set_led_brightness: function (val) {\n                this.hslColor.hsl.l = val / 100;\n                console.log(this.hslColor)\n                const path = 'http://192.168.0.78:5000/devices/' + this.name\n                const rgb = {\n                    'r': this.hslColor.rgba.r,\n                    'g': this.hslColor.rgba.g,\n                    'b': this.hslColor.rgba.b};\n                axios.put(path, rgb);\n\n            },\n\n            set_color() {\n                const path = 'http://192.168.0.78:5000/devices/' + this.name\n                const rgb = {\n                    'r': this.hslColor.rgba.r,\n                    'g': this.hslColor.rgba.g,\n                    'b': this.hslColor.rgba.b};\n                axios.put(path, rgb);\n\n            },\n        },\n\n\n        watch: {\n            brightnessSliderVal() {\n                this.set_led_brightness();\n            },\n\n\n            hslColor(hslColor) {\n                console.log(hslColor.rgba.r);\n                console.log(hslColor.rgba.g);\n                console.log(hslColor.rgba.b);\n                this.set_color();\n\n                if (hslColor.hsl.l > 0) {\n                    this.power = true;\n                }\n\n            },\n\n        },\n\n        created() {\n            console.log(Slider)\n            console.log(this.hslColor)\n        }\n\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}