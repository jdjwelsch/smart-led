{"remainingRequest":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jona/Dokumente/coding/smart-led/raspi/frontend/src/components/VerticalSingleLedControl.vue?vue&type=style&index=0&id=6b8868a9&scoped=true&lang=css&","dependencies":[{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/src/components/VerticalSingleLedControl.vue","mtime":1588705023611},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jona/Dokumente/coding/smart-led/raspi/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICd+QHJhZGlhbC1jb2xvci1waWNrZXIvdnVlLWNvbG9yLXBpY2tlci9kaXN0L3Z1ZS1jb2xvci1waWNrZXIubWluLmNzcyc7CgppbnB1dFt0eXBlPXJhbmdlXSB7CiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7CiAgICBtYXJnaW46IDE4cHggMDsKICAgIHdpZHRoOiA5MCU7Cn0KCmlucHV0W3R5cGU9cmFuZ2VdOmZvY3VzIHsKICAgIG91dGxpbmU6IG5vbmU7Cn0KCmlucHV0W3R5cGU9cmFuZ2VdOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFjayB7CiAgICB3aWR0aDogOTYlOwogICAgaGVpZ2h0OiA4LjRweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGFuaW1hdGU6IDAuMnM7CiAgICAvKmJveC1zaGFkb3c6IDFweCAxcHggMXB4ICMwMDAwMDAsIDBweCAwcHggMXB4ICMwZDBkMGQ7Ki8KICAgIGJhY2tncm91bmQ6ICMzMDcxYTk7CiAgICBib3JkZXItcmFkaXVzOiAxLjNweDsKICAgIGJvcmRlcjogMC4ycHggc29saWQgIzAxMDEwMTsKfQoKaW5wdXRbdHlwZT1yYW5nZV06Oi13ZWJraXQtc2xpZGVyLXRodW1iIHsKICAgIC8qYm94LXNoYWRvdzogMXB4IDFweCAxcHggIzAwMDAwMCwgMHB4IDBweCAxcHggIzBkMGQwZDsqLwogICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDsKICAgIGhlaWdodDogMzZweDsKICAgIHdpZHRoOiAxNnB4OwogICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgIG1hcmdpbi10b3A6IC0xNHB4Owp9CgppbnB1dFt0eXBlPXJhbmdlXTpmb2N1czo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2sgewogICAgYmFja2dyb3VuZDogIzM2N2ViZDsKfQoKaW5wdXRbdHlwZT1yYW5nZV06Oi1tb3otcmFuZ2UtdHJhY2sgewogICAgd2lkdGg6IDk2JTsKICAgIGhlaWdodDogOC40cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBhbmltYXRlOiAwLjJzOwogICAgLypib3gtc2hhZG93OiAxcHggMXB4IDFweCAjMDAwMDAwLCAwcHggMHB4IDFweCAjMGQwZDBkOyovCiAgICBiYWNrZ3JvdW5kOiAjMzA3MWE5OwogICAgYm9yZGVyLXJhZGl1czogMS4zcHg7CiAgICBib3JkZXI6IDAuMnB4IHNvbGlkICMwMTAxMDE7Cn0KCmlucHV0W3R5cGU9cmFuZ2VdOjotbW96LXJhbmdlLXRodW1iIHsKICAgIC8qYm94LXNoYWRvdzogMXB4IDFweCAxcHggIzAwMDAwMCwgMHB4IDBweCAxcHggIzBkMGQwZDsqLwogICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDsKICAgIGhlaWdodDogMzZweDsKICAgIHdpZHRoOiAxNnB4OwogICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKaW5wdXRbdHlwZT1yYW5nZV06Oi1tcy10cmFjayB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogOC40cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBhbmltYXRlOiAwLjJzOwogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OwogICAgYm9yZGVyLXdpZHRoOiAxNnB4IDA7CiAgICBjb2xvcjogdHJhbnNwYXJlbnQ7Cn0KCmlucHV0W3R5cGU9cmFuZ2VdOjotbXMtZmlsbC1sb3dlciB7CiAgICBiYWNrZ3JvdW5kOiAjMmE2NDk1OwogICAgYm9yZGVyOiAwLjJweCBzb2xpZCAjMDEwMTAxOwogICAgYm9yZGVyLXJhZGl1czogMi42cHg7CiAgICAvKmJveC1zaGFkb3c6IDFweCAxcHggMXB4ICMwMDAwMDAsIDBweCAwcHggMXB4ICMwZDBkMGQ7Ki8KfQoKaW5wdXRbdHlwZT1yYW5nZV06Oi1tcy1maWxsLXVwcGVyIHsKICAgIGJhY2tncm91bmQ6ICMzMDcxYTk7CiAgICBib3JkZXI6IDAuMnB4IHNvbGlkICMwMTAxMDE7CiAgICBib3JkZXItcmFkaXVzOiAyLjZweDsKICAgIC8qYm94LXNoYWRvdzogMXB4IDFweCAxcHggIzAwMDAwMCwgMHB4IDBweCAxcHggIzBkMGQwZDsqLwp9CgppbnB1dFt0eXBlPXJhbmdlXTo6LW1zLXRodW1iIHsKICAgIC8qYm94LXNoYWRvdzogMXB4IDFweCAxcHggIzAwMDAwMCwgMHB4IDBweCAxcHggIzBkMGQwZDsqLwogICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDsKICAgIGhlaWdodDogMzZweDsKICAgIHdpZHRoOiAxNnB4OwogICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKaW5wdXRbdHlwZT1yYW5nZV06Zm9jdXM6Oi1tcy1maWxsLWxvd2VyIHsKICAgIGJhY2tncm91bmQ6ICMzMDcxYTk7Cn0KCmlucHV0W3R5cGU9cmFuZ2VdOmZvY3VzOjotbXMtZmlsbC11cHBlciB7CiAgICBiYWNrZ3JvdW5kOiAjMzY3ZWJkOwp9CgpkaXYgewogICAgbWFyZ2luOiBhdXRvOwogICAgbWFyZ2luLWJvdHRvbTogMWNtOwp9Cg=="},{"version":3,"sources":["VerticalSingleLedControl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"VerticalSingleLedControl.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"SingleLedControl\">\n        <H2>{{name}}</H2>\n        <switches v-model=\"power\" type-bold=\"true\" theme=\"bulma\"\n                  label=\"off / on\" size=\"lg\"></switches>\n\n        <color-picker :hue=\"hue\"\n                      :saturation=\"saturation\"\n                      :luminosity=\"luminosity\"\n                      @input=\"onColorInput\">\n        </color-picker><br>\n\n        <label for=\"saturation\">Saturation: {{saturation}}</label><br>\n        <input id='saturation' type=\"range\" min=\"0\" max=\"100\"\n               v-model=\"saturation\"><br>\n\n        <label for=\"luminosity\">Luminosity: {{luminosity}}</label><br>\n        <input id='luminosity' type=\"range\" min=\"0\" max=\"100\"\n               v-model=\"luminosity\">\n        <hr>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    import Switches from 'vue-switches';\n    import ColorPicker from '@radial-color-picker/vue-color-picker';\n    import convert from 'color-convert';\n\n    export default {\n        name: 'SingleLedControl',\n        components: {\n            'switches': Switches,\n            ColorPicker\n        },\n        props: ['name', 'ServerIp', 'rgb'],\n\n        data: function () {\n            return {\n                power: false,\n                hue: 100,\n                saturation: 100,\n                luminosity: 50,\n                device_path: 'http://' +\n                    this.ServerIp +\n                    ':4999/devices/' +\n                    this.name,\n                last_request_send: Date.now()\n            }\n        },\n        methods:\n            {\n            switch_led: function (state) {\n                const rgb_off = {'rgb': [0, 0, 0]};\n\n                if (state) {\n                    const rgb_dict = this.calc_rgb_dict()\n                    axios.put(this.device_path, rgb_dict);\n                    console.log(this.device_path);\n                    console.log(rgb_dict);\n                }\n\n                if (!state) {\n                    axios.put(this.device_path, rgb_off);\n                }\n            }\n            ,\n\n            set_device_color() {\n                let now = Date.now();\n                // only send if there has not been an update in the last 500 ms\n                if (now - this.last_request_send > 500) {\n                        axios.put(this.device_path, this.calc_rgb_dict());\n                        console.log('sending', this.calc_rgb_dict());\n                        this.last_request_send = now;\n                }\n            },\n            calc_rgb_dict() {\n                let rgb_vals = convert.hsl.rgb(\n                    this.hue,\n                    this.saturation,\n                    this.luminosity)\n                return {'rgb': rgb_vals}\n            },\n\n            set_hsl_values_from_rgb() {\n                this.hue = convert.rgb.hsl(this.rgb)[0];\n                this.saturation = convert.rgb.hsl(this.rgb)[1];\n                this.luminosity = convert.rgb.hsl(this.rgb)[2];\n            },\n\n            onColorInput(hue) {\n                this.hue = hue;\n            },\n        },\n        watch: {\n            power() {\n                this.switch_led(this.power)\n            },\n\n            // update internal hsl values when rgb is changed\n            // (i. e. by broadcast)\n            rgb() {\n                this.set_hsl_values_from_rgb()\n            },\n\n            // send set_color request when hsl values are changed\n\n            luminosity() {\n                this.power = this.luminosity > 0;\n                this.set_device_color();\n            },\n            hue() {\n                this.power = this.luminosity > 0;\n                this.set_device_color();\n            },\n            saturation() {\n                this.power = this.luminosity > 0;\n                this.set_device_color();\n            }\n        }\n        ,\n\n        computed: {}\n        ,\n        created() {\n            this.set_hsl_values_from_rgb()\n        }\n    }\n</script>\n<style scoped>\n    @import '~@radial-color-picker/vue-color-picker/dist/vue-color-picker.min.css';\n\n    input[type=range] {\n        -webkit-appearance: none;\n        margin: 18px 0;\n        width: 90%;\n    }\n\n    input[type=range]:focus {\n        outline: none;\n    }\n\n    input[type=range]::-webkit-slider-runnable-track {\n        width: 96%;\n        height: 8.4px;\n        cursor: pointer;\n        animate: 0.2s;\n        /*box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;*/\n        background: #3071a9;\n        border-radius: 1.3px;\n        border: 0.2px solid #010101;\n    }\n\n    input[type=range]::-webkit-slider-thumb {\n        /*box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;*/\n        border: 1px solid #000000;\n        height: 36px;\n        width: 16px;\n        border-radius: 3px;\n        background: #ffffff;\n        cursor: pointer;\n        -webkit-appearance: none;\n        margin-top: -14px;\n    }\n\n    input[type=range]:focus::-webkit-slider-runnable-track {\n        background: #367ebd;\n    }\n\n    input[type=range]::-moz-range-track {\n        width: 96%;\n        height: 8.4px;\n        cursor: pointer;\n        animate: 0.2s;\n        /*box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;*/\n        background: #3071a9;\n        border-radius: 1.3px;\n        border: 0.2px solid #010101;\n    }\n\n    input[type=range]::-moz-range-thumb {\n        /*box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;*/\n        border: 1px solid #000000;\n        height: 36px;\n        width: 16px;\n        border-radius: 3px;\n        background: #ffffff;\n        cursor: pointer;\n    }\n\n    input[type=range]::-ms-track {\n        width: 100%;\n        height: 8.4px;\n        cursor: pointer;\n        animate: 0.2s;\n        background: transparent;\n        border-color: transparent;\n        border-width: 16px 0;\n        color: transparent;\n    }\n\n    input[type=range]::-ms-fill-lower {\n        background: #2a6495;\n        border: 0.2px solid #010101;\n        border-radius: 2.6px;\n        /*box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;*/\n    }\n\n    input[type=range]::-ms-fill-upper {\n        background: #3071a9;\n        border: 0.2px solid #010101;\n        border-radius: 2.6px;\n        /*box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;*/\n    }\n\n    input[type=range]::-ms-thumb {\n        /*box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;*/\n        border: 1px solid #000000;\n        height: 36px;\n        width: 16px;\n        border-radius: 3px;\n        background: #ffffff;\n        cursor: pointer;\n    }\n\n    input[type=range]:focus::-ms-fill-lower {\n        background: #3071a9;\n    }\n\n    input[type=range]:focus::-ms-fill-upper {\n        background: #367ebd;\n    }\n\n    div {\n        margin: auto;\n        margin-bottom: 1cm;\n    }\n</style>"]}]}